{% extends 'cuisine/base.html' %}
{% load static %}

{% block content %}
    <div class="max-w-7xl mx-auto py-20 px-6">
        <h2 class="text-center font-serif italic text-4xl mb-12">
            Nos {{ nom_categorie }}s
        </h2>

        <div class="grid grid-cols-1 md:grid-cols-3 gap-12">
            {% for recette in recettes %} 
            
            <div class="recipe-card">
                {% if recette.image_statique %}
                   <img src="{% static recette.image_statique %}" 
                        alt="{{ recette.titre }}" 
                        class="w-full h-[400px] object-cover mb-4 shadow-sm">
                {% else %}
                    <img src="https://via.placeholder.com/400x400?text=Image+à+venir" 
                         class="w-full h-[400px] object-cover mb-4 grayscale">
                {% endif %}
                
                <p class="text-[11px] uppercase tracking-widest text-amber-600 mb-2">
                    {{ nom_categorie }}
                </p>
                <h2 class="recipe-title font-serif italic text-2xl text-gray-800 mb-4">
                    {{ recette.titre }}
                </h2>

                <div class="mb-6">
                    <p class="font-bold text-sm uppercase tracking-[0.1em] text-gray-900 mb-2">
                        Ingrédients
                    </p>
                    <div class="text-sm text-gray-600 leading-relaxed italic">
                        {{ recette.ingredients|linebreaks }}
                    </div>
                </div>

                <div>
                    <p class="font-bold text-sm uppercase tracking-[0.1em] text-gray-900 mb-2">
                        Préparation
                    </p>
                    <div class="text-sm text-gray-700 leading-relaxed">
                        {{ recette.instructions|linebreaks }}
                    </div>
                </div>
            </div>

            {% empty %}
            <div class="col-span-3 text-center py-10">
                <p class="text-gray-400 italic">Aucune recette pour le moment dans cette catégorie.</p>
            </div>
            {% endfor %}
        </div>
    </div>
{% endblock %}